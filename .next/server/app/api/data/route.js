"use strict";(()=>{var t={};t.id=827,t.ids=[827],t.modules={20399:t=>{t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},16138:(t,e,r)=>{r.r(e),r.d(e,{originalPathname:()=>q,patchFetch:()=>p,requestAsyncStorage:()=>y,routeModule:()=>c,serverHooks:()=>I,staticGenerationAsyncStorage:()=>h});var a={};r.r(a),r.d(a,{GET:()=>d,POST:()=>s});var n=r(49303),u=r(88716),i=r(60670),l=r(87070);let o=[{id:"1",countryId:"1",indicatorId:"1",year:2020,value:1.8,quarter:null,month:null,quality:"high"},{id:"2",countryId:"1",indicatorId:"1",year:2021,value:11.4,quarter:null,month:null,quality:"high"},{id:"3",countryId:"1",indicatorId:"1",year:2022,value:5.6,quarter:null,month:null,quality:"high"},{id:"4",countryId:"1",indicatorId:"1",year:2023,value:4.5,quarter:null,month:null,quality:"high"},{id:"5",countryId:"2",indicatorId:"1",year:2020,value:-3.4,quarter:null,month:null,quality:"high"},{id:"6",countryId:"2",indicatorId:"1",year:2021,value:5.9,quarter:null,month:null,quality:"high"},{id:"7",countryId:"2",indicatorId:"1",year:2022,value:2.1,quarter:null,month:null,quality:"high"},{id:"8",countryId:"2",indicatorId:"1",year:2023,value:2.5,quarter:null,month:null,quality:"high"},{id:"9",countryId:"3",indicatorId:"1",year:2020,value:-4.6,quarter:null,month:null,quality:"high"},{id:"10",countryId:"3",indicatorId:"1",year:2021,value:2.9,quarter:null,month:null,quality:"high"},{id:"11",countryId:"3",indicatorId:"1",year:2022,value:1.8,quarter:null,month:null,quality:"high"},{id:"12",countryId:"3",indicatorId:"1",year:2023,value:-.3,quarter:null,month:null,quality:"high"},{id:"13",countryId:"1",indicatorId:"2",year:2020,value:12.3,quarter:null,month:null,quality:"high"},{id:"14",countryId:"1",indicatorId:"2",year:2021,value:19.6,quarter:null,month:null,quality:"high"},{id:"15",countryId:"1",indicatorId:"2",year:2022,value:64.8,quarter:null,month:null,quality:"high"},{id:"16",countryId:"1",indicatorId:"2",year:2023,value:53.9,quarter:null,month:null,quality:"high"},{id:"17",countryId:"2",indicatorId:"2",year:2020,value:1.2,quarter:null,month:null,quality:"high"},{id:"18",countryId:"2",indicatorId:"2",year:2021,value:4.7,quarter:null,month:null,quality:"high"},{id:"19",countryId:"2",indicatorId:"2",year:2022,value:8,quarter:null,month:null,quality:"high"},{id:"20",countryId:"2",indicatorId:"2",year:2023,value:3.2,quarter:null,month:null,quality:"high"}];async function d(t){try{let{searchParams:e}=new URL(t.url),r=e.get("countries")?.split(","),a=e.get("indicators")?.split(","),n=e.get("startYear"),u=e.get("endYear"),i=e.get("format")||"json",d=o;if(r&&r.length>0&&(d=d.filter(t=>r.includes(t.countryId))),a&&a.length>0&&(d=d.filter(t=>a.includes(t.indicatorId))),n&&(d=d.filter(t=>t.year>=parseInt(n))),u&&(d=d.filter(t=>t.year<=parseInt(u))),"csv"===i){let t=d.map(t=>`${t.countryId},${t.indicatorId},${t.year},${t.value},${t.quality}`).join("\n");return new l.NextResponse("Country,Indicator,Year,Value,Quality\n"+t,{headers:{"Content-Type":"text/csv","Content-Disposition":'attachment; filename="data.csv"'}})}return l.NextResponse.json({success:!0,data:d,total:d.length,filters:{countries:r,indicators:a,startYear:n?parseInt(n):null,endYear:u?parseInt(u):null}})}catch(t){return l.NextResponse.json({success:!1,error:"Veri getirilemedi"},{status:500})}}async function s(t){try{let e=await t.json();if(!e.countryId||!e.indicatorId||!e.year||void 0===e.value)return l.NextResponse.json({success:!1,error:"\xdclke, g\xf6sterge, yıl ve değer gerekli"},{status:400});if(o.find(t=>t.countryId===e.countryId&&t.indicatorId===e.indicatorId&&t.year===e.year&&t.quarter===(e.quarter||null)&&t.month===(e.month||null)))return l.NextResponse.json({success:!1,error:"Bu veri noktası zaten mevcut"},{status:409});let r={id:(o.length+1).toString(),countryId:e.countryId,indicatorId:e.indicatorId,year:e.year,value:e.value,quarter:e.quarter||null,month:e.month||null,quality:e.quality||"medium",metadata:e.metadata||null};return o.push(r),l.NextResponse.json({success:!0,data:r,message:"Veri noktası başarıyla eklendi"},{status:201})}catch(t){return l.NextResponse.json({success:!1,error:"Veri noktası eklenemedi"},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:u.x.APP_ROUTE,page:"/api/data/route",pathname:"/api/data",filename:"route",bundlePath:"app/api/data/route"},resolvedPagePath:"C:\\Users\\Emre\\Desktop\\WEB SİTELERİ\\polikriz1.1\\src\\app\\api\\data\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:y,staticGenerationAsyncStorage:h,serverHooks:I}=c,q="/api/data/route";function p(){return(0,i.patchFetch)({serverHooks:I,staticGenerationAsyncStorage:h})}}};var e=require("../../../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),a=e.X(0,[276,972],()=>r(16138));module.exports=a})();